{"version":3,"sources":["firebase.js","Player.js","AlienCrowd.js","Game.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","firestore","PlayerBullet","props","Image","img","process","width","bullet_width","height","bullet_height","left","x","top","y","alt","src","style","Player","processKey","event","key","movingLeft","movingRight","shoot","new_bullets","state","bullets","push","dimension","setState","onUpdateBullets","this","keyEventListener","window","addEventListener","updateInterval","setInterval","update","pauseGame","removeEventListener","clearInterval","movePlayer","moveBullets","game_dimension","onUpdate","i","length","splice","map","value","index","React","Component","alien_size","AlienCrowd","aliens","newBulletInterval","newBullet","moveAliens","new_x","new_y","new_movingRight","updateBullets","cols","bottomAliens","getBottomAliens","shootingAlien","Math","floor","random","col","row","j","rows","alien_pos","alien_divs","bullet_divs","Alien","AlienBullet","player_dimension","Game","startGame","preventDefault","gameStart","player_x","player_y","alien_x","alien_y","alien_bullets","player_bullets","player_lives","createAlienCrowd","score","gameOver","hitPlayer","checkForCollision","checkForShot","collision","alien_cols","alien_rows","r","c","lives","bullet","updateFirebase","new_score","a","user","currentUser","collection","doc","uid","get","doc_user","data","high_score","set","username","new_aliens","collision_detected","allEmpty","alien_row","object1_x","object1_y","object1_width","object1_height","object2_x","object2_y","object2_width","object2_height","className","updatePlayer","updatePlayerBullets","updateAliens","updateAlienBullets","href","onClick","GameOver","handleTweet","axios","method","url","withCredentials","body","tweetMessage","reloadGame","location","reload","getJoke","headers","Accept","result","joke","App","loggedIn","onAuthStateChanged","to","Login","formChangeHandler","name","target","submitFormHandler","email","password","errorMessage","signInWithEmailAndPassword","signedIn","message","code","onSubmit","type","placeholder","onChange","SignUp","createUserWithEmailAndPassword","addUser","error","Play","userSignOut","signOut","current","LeaderBoard","getTopScores","num","leaderboard","orderBy","limit","forEach","item_divs","id","place","LeaderBoardItem","Header","ReactDOM","render","exact","path","component","document","getElementById"],"mappings":"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","file":"static/js/main.67c89333.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport 'firebase/firestore';\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyB-DMBKi2_wbv0hjXobVt1QWLaSKwZ6kJc\",\n    authDomain: \"final-comp426.firebaseapp.com\",\n    projectId: \"final-comp426\",\n    storageBucket: \"final-comp426.appspot.com\",\n    messagingSenderId: \"24353847634\",\n    appId: \"1:24353847634:web:de8214c3a05ca07843e28b\",\n    measurementId: \"G-QMTKDZKGPX\"\n  };\n\nfirebase.initializeApp(firebaseConfig);\n\nconst auth = firebase.auth();\nconst firestore = firebase.firestore();\n\nexport {auth, firestore};","import React from 'react';\nimport \"./App.js\"\n\nconst bullet_width = 4;\nconst bullet_height = 16;\n\nclass Player extends React.Component{\n    constructor(props){\n        super(props);\n        this.movingLeft = 0;\n        this.movingRight = 0;\n        this.state = {\n            x: props.x,\n            y: props.y,\n            bullets: [],\n        }\n    }\n  \n    componentDidMount() {\n      this.keyEventListener = window.addEventListener(\"keydown\", this.processKey);\n      this.updateInterval = setInterval(() => {\n        this.update();\n      }, 50);\n    }\n  \n    componentWillUnmount() {\n      this.pauseGame();\n    }\n\n    pauseGame() {\n        window.removeEventListener(\"keydown\", this.processKey);\n        clearInterval(this.updateInterval);\n    }\n  \n    processKey = (event) => {\n      switch(event.key){\n        case \"ArrowLeft\":\n          this.movingLeft = 10;\n          this.movingRight = 0;\n          break;\n        case \"ArrowRight\":\n          this.movingRight = 10;\n          this.movingLeft = 0;\n          break;\n        case \" \":\n          this.shoot();\n          break;\n        default:\n          break;\n      }\n    }\n  \n    update() {\n        this.movePlayer();\n        this.moveBullets();\n    }\n\n    movePlayer(){\n        if(this.movingLeft){\n            if(this.state.x > 5){\n                this.setState({x: this.state.x-5});\n            }\n            else{\n               this.setState({x: 0});\n            }\n            this.movingLeft -= 1;\n        }\n        else if(this.movingRight){\n            if(this.state.x < this.props.game_dimension - this.props.dimension - 5){\n                this.setState({x: this.state.x+5});\n            }\n            else{\n                this.setState({x: this.props.game_dimension - this.props.dimension});\n            }\n            this.movingRight -= 1;\n        }\n        this.props.onUpdate(this.state.x, this.state.y);\n    }\n\n    moveBullets(){\n        let new_bullets = this.state.bullets;\n        for(let i = new_bullets.length - 1; i >= 0; i--){\n            new_bullets[i].y -= 20;\n            if(new_bullets[i].y < 0){\n                new_bullets.splice(i, 1);\n            }\n        }\n        this.setState({\n            x: this.state.x,\n            y: this.state.y,\n            bullets: new_bullets,\n        });\n        this.props.onUpdateBullets(new_bullets);\n    }\n  \n    shoot = () => {\n        let new_bullets = this.state.bullets;\n        new_bullets.push({x: this.state.x+this.props.dimension/2, y: this.props.y-bullet_height});\n        this.setState({\n            x: this.state.x,\n            y: this.state.y,\n            bullets: new_bullets,\n        });\n        this.props.onUpdateBullets(new_bullets);\n    }\n  \n    render() {\n      let bullets = this.state.bullets.map((value, index) => {\n        return (\n          <div key = {index}>\n            <PlayerBullet x = {value.x} y = {value.y} />\n          </div>\n        );\n      });\n  \n      return(\n          <div>\n            <Image img={`${process.env.PUBLIC_URL}/invader.png`} width={this.props.dimension+\"px\"} height={this.props.dimension+\"px\"} left={this.state.x} top={this.props.y} />\n            {bullets}\n          </div>\n        );\n      }\n  }\n\n  function PlayerBullet(props){\n    return(\n        <Image img={`${process.env.PUBLIC_URL}/bullet.png`} width={bullet_width+\"px\"} height={bullet_height+\"px\"} left={props.x} top={props.y}/>\n      );\n  }\n\n  function Image(props) {\n    return (\n      <img alt=\"\" src={props.img} width={props.width} height={props.height} style={{left: props.left, top: props.top}}></img>\n    );\n   }\n\n  export default Player;","import React from 'react';\nimport \"./App.js\"\n\nconst alien_size = 35;\nconst bullet_width = 2;\nconst bullet_height = 15;\nconst alien_start_x = 10;\n\nclass AlienCrowd extends React.Component {\n    constructor(props){\n      super(props);\n      this.state = {\n        aliens: this.props.aliens,\n        bullets: this.props.bullets,\n      }\n    }\n  \n    componentDidMount() {\n      this.updateInterval = setInterval(() => {\n        this.update();\n      }, 50);\n  \n      this.newBulletInterval = setInterval(() => {\n        this.setState({\n          bullets: this.newBullet(),\n        });\n      }, 500);\n    }\n  \n    componentWillUnmount() {\n      this.pauseGame();\n    }\n  \n    pauseGame() {\n        clearInterval(this.updateInterval);\n      clearInterval(this.newBulletInterval);\n    }\n\n    update(){\n      let [new_x, new_y, new_movingRight] = this.moveAliens();\n\n      this.setState({\n        bullets: this.updateBullets(),\n      });\n\n      this.props.onUpdate(new_x, new_y, this.props.aliens, new_movingRight);\n    }\n\n    moveAliens(){\n        let new_x = this.props.x;\n        let new_y = this.props.y;\n        let new_movingRight = this.props.movingRight;\n        \n        if(new_movingRight){\n            new_x += 5;\n            if(new_x === this.props.dimension-alien_start_x-alien_size*this.props.cols){\n                new_y += 10;\n                new_movingRight = false;\n            }\n          }\n          else{\n            new_x -= 5;\n            if(new_x === 10){\n              new_y += 10;\n              new_movingRight = true;\n            }\n          }\n        return [new_x, new_y, new_movingRight];\n    }\n  \n    updateBullets(){\n        let new_bullets = this.state.bullets;\n      for(let i = new_bullets.length-1; i >= 0; i--){\n        new_bullets[i].y += 15;\n        if(new_bullets[i].y >= this.props.dimension){\n            new_bullets.splice(i, 1);\n        }\n      }\n      this.props.onUpdateBullets(new_bullets);\n      return new_bullets;\n    }\n  \n    newBullet(){\n      let bullets = this.state.bullets;\n      let bottomAliens = this.getBottomAliens();\n  \n      let shootingAlien = Math.floor(Math.random() * bottomAliens.length);    \n      bullets.push({x: this.props.x + bottomAliens[shootingAlien].col*alien_size + alien_size/2, y: this.props.y + bottomAliens[shootingAlien].row*alien_size + alien_size});\n  \n      this.props.onUpdateBullets(bullets);\n\n      return bullets;\n    }\n  \n    getBottomAliens(){\n      let bottomAliens = [];\n      for(let i = 0; i < this.props.cols; i++){\n        let j = this.props.rows-1;\n        while(j >= 0 && !this.props.aliens[j][i]){\n          j -= 1;\n        }\n        if(j === -1){\n          continue;\n        }\n        else{\n          bottomAliens.push({row: j, col: i});\n        }\n      }\n      return bottomAliens;\n    }\n  \n    render(){\n      let alien_pos = []\n      for(let i = 0; i < this.props.aliens.length; i++){\n          for(let j = 0; j < this.props.aliens[0].length; j++){\n            if(this.props.aliens[i][j]){\n                alien_pos.push({x: this.props.x + j*alien_size, y: this.props.y + i*alien_size});\n            }\n          }\n      }\n\n      let alien_divs = alien_pos.map((value, index) => {\n        return (\n          <div key = {index}>\n            <Alien x = {value.x} y = {value.y}/>\n          </div>\n        );\n      });\n\n      let bullet_divs = this.state.bullets.map((value, index) => {\n        return (\n          <div key = {index}>\n            <AlienBullet x = {value.x} y = {value.y} />\n          </div>\n        );\n      });\n  \n      return(\n        <div>\n          {alien_divs}\n          {bullet_divs}\n        </div>\n      );\n    }\n  }\n\n  class Alien extends React.Component {\n    render(){\n        return(\n        <Image img={`${process.env.PUBLIC_URL}/alien.png`} width={alien_size+\"px\"} height={alien_size+\"px\"} left={this.props.x} top={this.props.y}/>\n      );\n    }\n  }\n  \n  class AlienBullet extends React.Component{\n    render() {\n      return(\n        <Image img={`${process.env.PUBLIC_URL}/bullet2.png`} width={bullet_width+\"px\"} height={bullet_height+\"px\"} left={this.props.x} top={this.props.y}/>\n      )\n    }\n  }\n\n  function Image(props) {\n    return (\n      <img src={props.img} alt=\"\" width={props.width} height={props.height} style={{left: props.left, top: props.top}}></img>\n    );\n}\n\nexport default AlienCrowd;","import React from 'react';\nimport './App.css';\nimport Player from \"./Player.js\";\nimport AlienCrowd from \"./AlienCrowd.js\";\nimport {auth, firestore} from \"./firebase.js\";\nimport axios from 'axios';\n\nconst game_dimension = 550;\nconst player_dimension = game_dimension * 0.075;\nconst player_bullet_width = 4;\nconst player_bullet_height = 16;\nconst alien_bullet_width = 2;\nconst alien_bullet_height = 15;\nconst alien_rows = 5;\nconst alien_cols = 11;\nconst alien_size = 35;\nconst alien_start_x = 10;\nconst alien_start_y = 10;\n\nclass Game extends React.Component {\n  constructor(){\n    super();\n    this.player_x = null;\n    this.player_y = null;\n    this.state = {\n      alien_x: alien_start_x,\n      alien_y: alien_start_y,\n      movingRight: true,\n      alien_bullets: [],\n      player_bullets: [],\n      player_lives: 3,\n      aliens: this.createAlienCrowd(),\n      score: 0,\n      gameOver: false,\n      gameStart: false,\n    }\n  }\n  \n  updatePlayer(x, y){\n    this.player_x = x;\n    this.player_y = y;\n  }\n\n  updateAliens(x, y, aliens, movingRight){\n    this.setState({\n      aliens: aliens,\n      alien_x: x,\n      alien_y: y,\n      movingRight: movingRight,\n    });\n    if(this.hitPlayer()){\n      this.setState({gameOver: true});\n    }\n  }\n\n  updateAlienBullets(bullets){\n      this.setState({\n        alien_bullets: bullets,\n      })\n      this.checkForCollision();\n  }\n\n  updatePlayerBullets(bullets){\n    this.setState({\n      player_bullets: bullets,\n    })\n    this.checkForShot();\n  }\n\n  hitPlayer(){\n    if(this.collision(this.player_x, this.player_y, player_dimension, player_dimension, this.state.alien_x, this.state.alien_y, alien_cols*alien_size, alien_rows*alien_size)){\n      for(let r = this.state.aliens.length-1; r >= 0; r--){\n        for(let c = 0; c < this.state.aliens[0].length; c++){\n          if(this.state.aliens[r][c] && this.collision(this.player_x, this.player_y, player_dimension, player_dimension, this.state.alien_x+c*alien_size, this.state.alien_y+r*alien_size, alien_size, alien_size)){\n            return true;\n          }\n        }\n      }\n    }\n    return false;\n  }\n\n  checkForCollision(){\n    let bullets = this.state.alien_bullets;\n    let lives = this.state.player_lives;\n    let gameOver = this.state.gameOver\n    for(let i = bullets.length-1; i >= 0; i--){\n      let bullet = bullets[i];\n      if(this.collision(bullet.x, bullet.y, alien_bullet_width, alien_bullet_height, this.player_x, this.player_y, player_dimension, player_dimension)){\n        bullets.splice(i, 1);\n        lives -= 1;\n        if(lives === 0){\n          gameOver = true;\n          this.updateFirebase(this.state.score);\n        }\n      }\n    }\n    this.setState({\n      alien_bullets: bullets,\n      player_lives: lives,\n      gameOver: gameOver,\n    });\n  }\n\n  async updateFirebase(new_score){\n      let user = auth.currentUser;\n      try{\n        let doc_user = await firestore.collection(\"users\").doc(user.uid).get();\n        if(new_score > doc_user.data().high_score){\n          try{\n            await firestore.collection(\"users\").doc(user.uid).set({\n              high_score: new_score,\n              username: doc_user.data().username,\n            })\n          }\n          catch(error){\n\n          }\n        }\n      }\n      catch(error){\n\n      }\n  }\n\n  checkForShot(){\n    let bullets = this.state.player_bullets;\n    let new_aliens = this.state.aliens;\n    let new_score = this.state.score;\n    for(let i = bullets.length-1; i >= 0; i--){\n      let bullet = bullets[i];\n      if(this.collision(bullet.x, bullet.y, player_bullet_width, player_bullet_height, this.state.alien_x, this.state.alien_y, alien_cols*alien_size, alien_rows*alien_size)){\n        let collision_detected = false;\n        for(let r = new_aliens.length-1; r >= 0; r--){\n          for(let c = 0; c < new_aliens[0].length; c++){\n            if(!collision_detected && new_aliens[r][c] && this.collision(bullet.x, bullet.y, player_bullet_width, player_bullet_height, this.state.alien_x+c*alien_size, this.state.alien_y+r*alien_size, alien_size, alien_size)){\n              collision_detected = true;\n              bullets.splice(i, 1);\n              new_aliens[r][c] = 0;\n              new_score += 10;\n              break;\n            }\n          }\n          if(collision_detected){\n            break;\n          }\n        }\n      }\n    }\n    if(this.allEmpty(new_aliens)){\n      new_aliens = this.createAlienCrowd();\n      this.setState({\n        alien_x: alien_start_x,\n        alien_y: alien_start_y,\n        aliens: new_aliens,\n        score: new_score,\n        alien_bullets: bullets,\n        movingRight: true,\n      })\n    }\n    else{\n      this.setState({\n        aliens: new_aliens,\n        score: new_score,\n        alien_bullets: bullets,\n      });\n    }\n  }\n\n  allEmpty(aliens){\n    for(let i = 0; i < aliens.length; i++){\n      for(let j = 0; j < aliens[0].length; j++){\n        if(aliens[i][j]){\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n\n  createAlienCrowd(){\n    let aliens = [];\n    for(let i = 0; i < alien_rows; i++){\n        let alien_row = [];\n        for(let j = 0; j < alien_cols; j++){\n            alien_row.push(1);\n        }\n        aliens.push(alien_row);\n    }\n    return aliens;\n}\n\n  startGame = (event) => {\n    event.preventDefault();\n    this.setState({gameStart: true})\n  }\n\n  collision(object1_x, object1_y, object1_width, object1_height, object2_x, object2_y, object2_width, object2_height) {\n    if(object1_x < object2_x + object2_width &&\n      object1_x + object1_width > object2_x &&\n      object1_y < object2_y + object2_height &&\n      object1_y + object1_height > object2_y) {\n       return true;\n   }\n   return false;\n  }\n  \n  render(){\n    if(this.state.gameOver){\n      return (\n        <div className=\"Game\">\n          <GameOver score={this.state.score}/>\n        </div>\n      )\n    }\n    else if(!this.state.gameStart){\n      return(\n        <div className=\"Game\">\n          <a href=\"\" onClick={this.startGame} className=\"StartGame\">CLICK TO START</a>\n        </div>\n      )\n    }\n    return (\n      <div className=\"Game\">\n        <Player onUpdate={(x, y) => {this.updatePlayer(x,y)}} onUpdateBullets={(bullets => {this.updatePlayerBullets(bullets)})} x={this.props.dimension/2 - player_dimension/2} y={this.props.dimension*0.85} dimension={player_dimension} game_dimension={this.props.dimension}/>\n        <AlienCrowd onUpdate={(x,y, aliens, movingRight) => {this.updateAliens(x, y, aliens, movingRight)}} onUpdateBullets={(bullets) => {this.updateAlienBullets(bullets)}} x={this.state.alien_x} y={this.state.alien_y} rows={alien_rows} cols={alien_cols} dimension={this.props.dimension} bullets={this.state.alien_bullets} aliens={this.state.aliens} movingRight={this.state.movingRight}/>\n        <div className=\"Lives\">\n          <p>LIVES: {this.state.player_lives}</p>\n        </div>\n        <div className=\"Score\">\n          <p>SCORE: {this.state.score}</p>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass GameOver extends React.Component{\n\n  constructor(props){\n    super(props);\n    this.state = {\n      joke: \"\",\n      tweetMessage: \"\",\n    }\n    this.getJoke();\n  }\n\n  handleTweet = async (event) => {\n    event.preventDefault();\n    try{\n      await axios({\n        method: 'post',\n        url: 'https://comp426-1fa20.cs.unc.edu/a09/tweets',\n        withCredentials: true,\n        data: {\n          body: `Just scored ${this.props.score} points in Space Invaders!`,\n        },\n      });\n      this.setState({tweetMessage: \"Shared your score to COMP426 Twitter!\"});\n    }\n    catch(error){\n      this.setState({tweetMessage: \"Couldn't post tweet! Login to comp426.com\"});\n    }\n  }\n\n  reloadGame = (event) => {\n    event.preventDefault();\n    window.location.reload(false);\n  }\n\n  getJoke = async () => {\n    const result = await axios({\n      method: \"get\",\n      url: \"https://icanhazdadjoke.com/\",\n      headers: {\n        Accept: \"text/plain\",\n      }\n    });\n    this.setState({\n      joke: result.data,\n    })\n  }\n  \n  render(){\n    return(\n      <div className=\"GameOver\">\n        <h3>GAME OVER</h3>\n        <p>Score: {this.props.score}</p>\n        <a href=\"\" onClick={this.reloadGame}>PLAY AGAIN</a>\n        <a href=\"\" onClick={this.handleTweet}>TWEET</a>\n        <p className=\"tweetMessage\">{this.state.tweetMessage}</p>\n        <p><span>A joke to cheer you up: </span>{this.state.joke}</p>\n      </div>\n    );\n  }\n}\n\nexport default Game;\n","import React from 'react';\nimport './App.css';\nimport { Link, Redirect } from 'react-router-dom';\nimport {auth, firestore} from \"./firebase.js\";\nimport Game from \"./Game.js\"\n\nclass App extends React.Component{\n\n  constructor(){\n    super();\n    this.state = {\n      loggedIn: false,\n    }\n  }\n\n  componentDidMount(){\n    auth.onAuthStateChanged((user) => {\n      if (user) {\n        this.setState({loggedIn: true});\n      }\n    });\n  }\n\n  render(){\n    if(this.state.loggedIn){\n      return(\n        <Redirect to=\"/play\" />\n      );\n    }\n    else{\n      return(\n        <div className=\"Home\">\n        <h1>SPACE INVADERS</h1>\n        <h4><Link to='/login'>LOGIN</Link> or <Link to='/signup'>SIGN UP</Link> to play</h4>\n      </div>\n      );\n    }\n  }\n\n}\n\nclass Login extends React.Component{\n  constructor(){\n    super();\n    this.state = {\n      email: \"\",\n      password: \"\",\n      signedIn: false,\n      errorMessage: \"\",\n    }\n  }\n\n  formChangeHandler = (event) => {\n    let name = event.target.name;\n    let value = event.target.value;\n    this.setState({[name]: value});\n  }\n\n  submitFormHandler = async (event) => {\n    event.preventDefault();\n    if(this.state.email === \"\" || this.state.password === \"\"){\n      this.setState({errorMessage: \"Must enter email/password\"});\n      return;\n    }\n    try{\n      await auth.signInWithEmailAndPassword(this.state.email, this.state.password);\n      this.setState({signedIn: true});\n    }\n    catch(error){\n      let message = \"\";\n      switch(error.code){\n        case \"auth/invalid-email\":\n          message=\"Invalid Email\"\n          break;\n        case \"auth/user-not-found\":\n          message=\"Email not registered\"\n          break;\n        case \"auth/wrong-password\":\n          message=\"Wrong password\"\n          break;\n        default:\n          break;\n      }\n      this.setState({errorMessage: message});\n    }\n  }\n  \n  render(){\n    if(this.state.signedIn){\n      return(<Redirect to=\"/play\"/>)\n    }\n    return(\n      <div className=\"Login\">\n        <h2>LOGIN</h2>\n        <form onSubmit={this.submitFormHandler}>\n          <input type=\"text\" name=\"email\" placeholder=\"Email\" onChange={this.formChangeHandler}></input>\n          <input type=\"password\" name=\"password\" placeholder=\"Password\" onChange={this.formChangeHandler}></input>\n          <p className=\"errorMessage\">{this.state.errorMessage}</p>\n          <div>\n            <a href=\"\" onClick={this.submitFormHandler}>SUBMIT</a>\n            <p><Link to='/'>CANCEL</Link></p>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nclass SignUp extends React.Component{\n  constructor(){\n    super();\n    this.state = {\n      username: \"\",\n      email: \"\",\n      password: \"\",\n      signedIn: false,\n      errorMessage: \"\",\n    }\n  }\n\n  formChangeHandler = (event) => {\n    let name = event.target.name;\n    let value = event.target.value;\n    this.setState({[name]: value});\n  }\n\n  submitFormHandler = async (event) => {\n    event.preventDefault();\n    if(this.state.email === \"\" || this.state.password === \"\" || this.state.username === \"\"){\n      this.setState({errorMessage: \"Must enter username/email/password\"});\n      return;\n    }\n    try{\n      const {user} = await auth.createUserWithEmailAndPassword(this.state.email, this.state.password);\n      this.addUser(user);\n      this.setState({signedIn: true});\n    }\n    catch(error){\n      let message = \"\";\n      switch(error.code){\n        case \"auth/email-already-in-use\":\n          message=\"Email already registered\"\n          break;\n        case \"auth/invalid-email\":\n          message=\"Invalid email\"\n          break;\n        case \"auth/weak-password\":\n          message=\"Password must be 6+ characters\"\n          break;\n        default:\n          break;\n      }\n      this.setState({errorMessage: message});\n    }\n  }\n\n  addUser = async (user) => {\n    try{\n      firestore.collection(\"users\").doc(user.uid).set({\n        username: this.state.username,\n        high_score: 0,\n      });\n    }\n    catch(error){\n    \n    }\n  }\n  \n  render(){\n    if(this.state.signedIn){\n      return(<Redirect to=\"/play\"/>)\n    }\n    return(\n      <div className=\"SignUp\">\n        <h2>CREATE AN ACCOUNT</h2>\n        <form>\n          <input type=\"text\" name=\"username\" placeholder=\"Username\" onChange={this.formChangeHandler}></input>\n          <input type=\"text\" name=\"email\" placeholder=\"Email\" onChange={this.formChangeHandler}></input>\n          <input type=\"password\" name=\"password\" placeholder=\"Password\" onChange={this.formChangeHandler}></input>\n          <p className=\"errorMessage\">{this.state.errorMessage}</p>\n          <div>\n            <a href=\"\" onClick={this.submitFormHandler}>SUBMIT</a>\n            <p><Link to='/'>CANCEL</Link></p>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nclass Play extends React.Component{\n  constructor(){\n    super();\n    this.state = {\n      signOut: false,\n    }\n  }\n  \n  userSignOut = async () => {\n    try{\n      await auth.signOut();\n      this.setState({signOut: true});\n    }\n    catch(error){\n\n    }\n  };\n  \n  render(){\n    if(this.state.signOut){\n      return(\n        <Redirect to=\"/\"/>\n      );\n    }\n    return(\n      <div className=\"Play\">\n        <Header current={\"play\"} signOut={this.userSignOut}/>\n        <Game dimension={550}></Game>\n      </div>\n    );\n  }\n}\n\nclass LeaderBoard extends React.Component{\n  constructor(){\n    super();\n    this.state = {\n      signOut: false,\n      leaderboard: [],\n    }\n    this.getTopScores(5);\n  }\n  \n  userSignOut = async () => {\n    try{\n      await auth.signOut();\n      this.setState({signOut: true});\n    }\n    catch(error){\n\n    }\n  };\n\n  getTopScores = async (num) => {\n    let leaderboard = this.state.leaderboard;\n    try{\n        let top_scores = await firestore.collection(\"users\").orderBy(\"high_score\", \"desc\").limit(num).get();\n        top_scores.forEach((doc => {\n          leaderboard.push(doc.data());\n        }))\n     }\n     catch(error){\n       \n     }\n     this.setState({leaderboard: leaderboard});\n  }\n  \n  render(){\n    if(this.state.signOut){\n      return(\n        <Redirect to=\"/\"/>\n      );\n    }\n\n    let item_divs = this.state.leaderboard.map((value, index) => {\n      return(\n          <LeaderBoardItem id={index} key={index} place={index+1} username={value.username} score={value.high_score}/>\n      );\n    })\n    \n    return(\n      <div className=\"LeaderBoard\">\n        <Header current={\"leaderboard\"} signOut={this.userSignOut}/>\n        <LeaderBoardItem id={-1} key={-1} place={\"place\"} username={\"username\"} score={\"score\"}></LeaderBoardItem>\n        {item_divs}\n      </div>\n    );\n  }\n}\n\nconst LeaderBoardItem = (props) => {\n  if(props.id === -1){\n    return(\n      <div className=\"LeaderBoardItem titles\" >\n        <p>{props.place}</p>\n        <p>{props.username}</p>\n        <p>{props.score}</p>\n    </div>\n    )\n  }\n  return(\n    <div className=\"LeaderBoardItem\" >\n      <p>{props.place}</p>\n      <p>{props.username}</p>\n      <p>{props.score}</p>\n    </div>\n  );\n}\n\nconst Header = (props) => {\n  if(props.current === \"play\"){\n    return(\n      <div className=\"Header\">\n        <a className=\"currentHeader\">PLAY</a>\n        <Link to=\"/leaderboard\">LEADERBOARD</Link>\n        <a onClick={props.signOut}>SIGN OUT</a>\n      </div>\n    );\n  }\n  return (\n    <div className=\"Header\">\n      <Link to=\"/play\">PLAY</Link>\n      <a className=\"currentHeader\">LEADERBOARD</a>\n      <a onClick={props.signOut}>SIGN OUT</a>\n    </div>\n  )\n};\n\n\nexport {App, Login, SignUp, Play, LeaderBoard};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter, Switch, Route } from 'react-router-dom';\nimport './index.css';\nimport {App, Login, SignUp, Play, LeaderBoard} from './App';\n\nReactDOM.render(\n  <HashRouter>\n     <Switch>\n        <Route exact path=\"/\" component={App}/>\n        <Route exact path=\"/login\" component={Login}/>\n        <Route exact path=\"/signup\" component={SignUp}/>\n        <Route exact path=\"/play\" component={Play}/>\n        <Route exact path=\"/leaderboard\" component={LeaderBoard}/>\n    </Switch>\n  </HashRouter>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}